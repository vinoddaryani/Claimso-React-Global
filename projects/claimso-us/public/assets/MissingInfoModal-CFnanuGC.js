import{r as o,j as s}from"./index-DjALMzzH.js";const h=({isOpen:r,onClose:t,purchase:n,onSave:c})=>{const[d,m]=o.useState({}),[l,f]=o.useState(!1);if(o.useEffect(()=>{if(n?.missingInfo){const i=n.missingInfo.reduce((a,e)=>(a[e.field]="",a),{});m(i)}},[n]),!r||!n?.missingInfo||n.missingInfo.length===0)return null;const g=i=>{const{name:a,value:e}=i.target;m(u=>({...u,[a]:e}))},_=async()=>{f(!0),await c(n.id,d),f(!1),t()};return s.jsxs("div",{className:"missing-info-modal",children:[s.jsx("div",{className:"missing-info-modal__overlay"}),s.jsxs("div",{className:"missing-info-modal__content",children:[s.jsx("h2",{className:"missing-info-modal__title",children:"Complete Your Purchase Info"}),s.jsxs("p",{className:"missing-info-modal__subtitle",children:['Adding these details for your "',n.name,'" will help with future claims.']}),s.jsx("div",{className:"missing-info-modal__form",children:n.missingInfo.map(i=>s.jsxs("div",{className:"missing-info-modal__field",children:[s.jsx("label",{htmlFor:i.field,className:"missing-info-modal__label",children:i.prompt}),s.jsx("input",{className:"missing-info-modal__input",type:"text",id:i.field,name:i.field,value:d[i.field]||"",onChange:g,placeholder:`Enter ${i.field}...`})]},i.field))}),s.jsxs("div",{className:"missing-info-modal__actions",children:[s.jsx("button",{className:"missing-info-modal__button missing-info-modal__button--secondary",onClick:t,disabled:l,children:"Cancel"}),s.jsx("button",{className:"missing-info-modal__button missing-info-modal__button--primary",onClick:_,disabled:l,children:l?"Saving...":"Save Info"})]})]})]})};export{h as default};
