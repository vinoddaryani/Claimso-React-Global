import{j as e,B as a,o as l,g as d,c as x}from"./index-DjALMzzH.js";const p=({purchase:r})=>{const t=r.originalPrice&&r.currentPrice?r.originalPrice-r.currentPrice:0,i=r.currency||"$";return t<=0?null:e.jsxs("div",{style:{padding:"var(--spacing-3)",background:"linear-gradient(135deg, var(--accent-secondary) 0%, rgba(46, 213, 115, 0.1) 100%)",borderRadius:"8px",textAlign:"center",marginBottom:"var(--spacing-3)",border:"1px solid rgba(46, 213, 115, 0.2)"},children:[e.jsx("p",{className:"text-secondary",style:{margin:0,fontSize:"11px",textTransform:"uppercase"},children:"Price Drop Identified!"}),e.jsxs("p",{style:{margin:"4px 0",fontSize:"28px",fontWeight:"800",color:"var(--status-delivered)"},children:["You can save ",i,t.toFixed(2)]}),e.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"16px",marginTop:"8px",fontSize:"12px"},children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-tertiary",children:"You Paid: "}),e.jsxs("span",{className:"text-secondary",style:{textDecoration:"line-through"},children:[i,r.originalPrice.toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-tertiary",children:"New Price: "}),e.jsxs("span",{className:"text-primary",style:{fontWeight:"600"},children:[i,r.currentPrice.toFixed(2)]})]})]})]})},y=({purchase:r,onClose:t})=>{const i=r.originalPrice&&r.currentPrice?r.originalPrice-r.currentPrice:0,n=r.currency||"$",s=`Hello, I have an order (${r.orderId||"N/A"}) for "${r.productName||"N/A"}" which I purchased for ${n}${r.originalPrice?.toFixed(2)}. I noticed the price has now dropped to ${n}${r.currentPrice?.toFixed(2)}. Can you please assist with a price adjustment refund for the difference of ${n}${i.toFixed(2)}? Thank you.`,o=()=>{x(s).then(c=>{alert(c?"Script copied to clipboard!":"Failed to copy script.")})};return e.jsxs("div",{className:"flex-col",style:{gap:"var(--spacing-4)",height:"100%"},children:[e.jsx(p,{purchase:r}),e.jsxs("div",{className:"flex-col",style:{gap:"var(--spacing-3)",flexGrow:1},children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-primary",style:{fontWeight:"600",marginBottom:"var(--spacing-2)"},children:"Step 1: Open Support Chat"}),e.jsxs(a,{onClick:()=>l(d(r.retailer)),variant:"primary",style:{width:"100%"},children:["Open Chat with ",r.retailer]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-primary",style:{fontWeight:"600",marginBottom:"var(--spacing-2)"},children:"Step 2: Copy & Paste This Script"}),e.jsx("textarea",{readOnly:!0,value:s,rows:6,style:{resize:"none",width:"100%",fontSize:"12px"}})]})]}),e.jsxs("div",{style:{flexShrink:0,paddingTop:"var(--spacing-3)",borderTop:"1px solid var(--border-color)",display:"flex",gap:"var(--spacing-2)"},children:[e.jsx(a,{onClick:o,variant:"secondary",style:{flex:1},children:"Copy Script"}),e.jsx(a,{onClick:t,variant:"primary",style:{flex:1},children:"Done"})]})]})};export{y as default};
